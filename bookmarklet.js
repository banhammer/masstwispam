javascript:(function(){var userlist=[];function getuserlist(){var mainObj=document.getElementsByTagName("li");var ulist=[];for(var i=0;i<mainObj.length;i++){if(mainObj[i].getAttribute("data-item-type")=='user')ulist.push(mainObj[i].getAttribute("data-item-id"))}return ulist};function getauthkey(){var mainObj=document.getElementById("signout-form");for(var i=0;i<mainObj.childNodes.length;i++){if(mainObj.childNodes[i].nodeType==1){if(mainObj.childNodes[i].getAttribute("name")=="authenticity_token"){return mainObj.childNodes[i].getAttribute("value")}}}};function postsend(){xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){var json=JSON.parse(xmlhttp.responseText);if(xmlhttp.status==200){if(json.new_state=='blocked'){blocked++}};if(xmlhttp.status==403){if(json.errors){noblocked++}};var html='всего юзеров: '+userlist.length+', лимит не превышен. ';if(noblocked>0)html='всего юзеров: '+userlist.length+', лимит превышен! ';curid++;if(curid>userlist.length){alert(html+'заблокировано: '+blocked+'; незаблокировано: '+noblocked)}else{postsend()}}};xmlhttp.open("POST","https://twitter.com/i/user/report_spam",true);xmlhttp.setRequestHeader('accept','application/json, text/javascript, */*; q=0.01');xmlhttp.setRequestHeader('content-type','application/x-www-form-urlencoded; charset=UTF-8');xmlhttp.setRequestHeader('x-requested-with','XMLHttpRequest');xmlhttp.send("authenticity_token="+authkey+"&user_id="+userlist[curid])};var authkey=getauthkey();var userlist=getuserlist();var blocked=0;var noblocked=0;var curid=0;postsend();})()
